<html>
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN" "html.dtd">
<head>
<title>PowerJ FAQ</title>
<meta NAME="MS.LOCALE" CONTENT="JA">
<META NAME= AUTHOR CONTENT = Support>
</HEAD>
<BODY BGCOLOR="#ffffff" link="#265ad9" vlink="#bc8f8f" alink = red>

<!--------Header---------->
<!-- ************************************* -->
<!-- head1.inc                             -->
<!-- 20010125 ghioki テーブル幅を640に修正 -->
<!-- 20001121 ghioki                       -->
<!-- ************************************* -->

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH=640><TR>
<TD WIDTH=200 ALIGN="LEFT" VALIGN="BOTTOM">
<A HREF="/"><IMG SRC="/include/image/top-icon-ps.gif" BORDER = 0 ALT = "トップページへ" WIDTH=150></A>
</TD>
<TD ALIGN=RIGHT VALIGN="BOTTOM">
<A HREF="http://www.ea-server.com" TARGET="_blank"><IMG SRC="/include/image/top-banner-01.gif" ALT="www.EA-Server.com" BORDER=0></A>
</TD>
</TR></TABLE>

<!-- ************************************* -->
<!-- head2.inc                             -->
<!-- 20010125 ghioki テーブル幅を640に修正 -->
<!-- 20001121 ghioki                       -->
<!-- ************************************* -->

<TABLE BGCOLOR="#444499" CELLSPACING=0 WIDTH=640><TR>
<TD ALIGN="RIGHT">
<A HREF="/"><IMG ALT="TOP" SRC="/include/image/top-icon-top.gif" BORDER=0></A>
<A HREF="/product/"><IMG ALT="製品" SRC="/include/image/top-icon-product.gif" BORDER=0></A>
<A HREF="/developer/"><IMG ALT="技術/サポート" SRC="/include/image/top-icon-developer.gif" BORDER=0></A>
<A HREF="/feedback/"><IMG ALT="ご意見" SRC="/include/image/top-icon-feedback.gif" BORDER=0></A>
</TD>
</TR></TABLE>

<!-- ************************************** -->
<!-- table-begin.inc                        -->
<!-- 20010125: ghioki テーブル幅を640に修正 -->
<!-- 20001114: ghioki                       -->
<!-- ************************************** -->

<P>
<TABLE BGCOLOR="WHITE" BORDER=0 CELLPADDING=0 CELLSPACING=2 WIDTH=640>
<TR>
<TD ALIGN="LEFT" BGCOLOR="blanchedalmond" VALIGN="TOP" WIDTH=200>


<A HREF="../../../"><IMG SRC="../../../scom_img/cs.gif" ALT="カスタマーサービス" BORDER = 0></A><TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0 WIDTH="200"><TD BGCOLOR="RED" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD WIDTH = 190 BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>PowerJ FAQ</B></FONT></TD></TABLE>
<BR>
<!-------------------- Contents ----------------------------->
<TABLE WIDTH = 200>
<TR>
<TD WIDTH = 14 VALIGN = TOP><IMG SRC="../../../../com_img/return.gif" ALIGN="top" HEIGHT="14" WIDTH="14"></TD>
<TD VALIGN = TOP><A HREF = ../../../techinfo/pj/>PowerJ 技術情報 トップページへ</A></TD>
</TR>
<TR>
<TD WIDTH = 14 VALIGN = TOP><IMG SRC="../../../../com_img/return.gif" ALIGN="top" HEIGHT="14" WIDTH="14"></TD>
<TD VALIGN = TOP><A HREF = ../../../techinfo/>Technical Information トップページへ</A></TD>
</TR>
<TR>
<TD WIDTH = 14 VALIGN = TOP><IMG SRC="../../../../com_img/return.gif" ALIGN="top" HEIGHT="14" WIDTH="14"></TD>
<TD VALIGN = TOP><A HREF = ../../../>カスタマーサービス トップページへ</A></TD>
</TR>
</TABLE>
<!-- ******************************** -->
<!-- table-center.inc                 -->
<!-- 20010125: ghioki 列幅を440に修正 -->
<!-- 20001114: ghioki                 -->
<!-- ******************************** -->

<P>
</TD>
<TD WIDTH=440 BGCOLOR="WHITE" ALIGN="LEFT" VALIGN="TOP">


<TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0><TD BGCOLOR="RED" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>PowerJ FAQ</B></FONT></TD></TABLE>
<BR>PowerJによる開発のヒント、FAQを掲載しています。<HR>
          <TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0><TD BGCOLOR="BLUE" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>JDK関連</B></FONT></TD></TABLE>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"><B>PowerJでJDK1.2を使用することはできますか？</B> 
          
          <P>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> PowerJ2.0にはJDK1.1.5が同梱されております。JDK1.2のインストールを行いメインメニューの [ツール|オプション]メニューを開き、[JDK構成]ページのパスを変更することによりJDK1.2を 
            使用することができるようになります。(プログラマーズガイド第3章:JDK構成オプションをご覧ください。)<BR>
            ただし、PowerJ2.0でJDK1.2使用時の動作保証はいたしません。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>JDK1.2にはいつから対応するのですか？ 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> 未定です。 
          <P>
          <HR>
 
          <TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0><TD BGCOLOR="BLUE" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>データベース関連</B></FONT></TD></TABLE>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>JDK1.02を使用してjConnect経由でSybase 
          SQLServerに接続すると接続は できますが日本語が文字化けします。 </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> 日本語を使用できるのは、 <FONT COLOR=RED>JDK1.1ベースのアプレット、アプリケーションのみ</FONT> となっております。<BR>
            また、トランザクションオブジェクトの接続パラメータに以下の文を追加する必要があります。 <BR>
          <CODE> 
          <PRE>
    CHARSET='sjis'<BR>
    LANGUAGE='japanese'<BR>
    </PRE>
          </CODE><BR>
          CHARSET,LANGUAGEは大文字で、sjis, japaneseは小文字で入力してください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>SYBASE 
          AdaptiveServerのクライアントをインストールしてある環境にPowerJ2.0Jをインストールし、Open Server Gatewayを起動するとアプリケーションエラーが発生します。 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> SYBASE AdaptiveServerのクライアントソフトをインストールした環境では、 Open Serverのバージョンが合わなくなるためOpen 
            Server Gatewayは動作しません。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>Netscape4.xでJDK1.1ベースのアプレットが表示できません。 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> Netscape4.xでは、JDK1.1のサポートが不十分なためアプレットを表示できないことがあります、 以下のURLでNetscapeをJDK1.1対応とするパッチをダウンロードすることが可能です。<BR>
            <IMG SRC="../../../../com_img/arrow.gif" ALIGN="TOP" HEIGHT="14" WIDTH="14"> 
            <A HREF = "http://developer.netscape.com/software/jdk/download.html" TARGET = "_blank">http://developer.netscape.com/software/jdk/download.html </A>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>InternetExplorer4.x、Netscape4.xでデータベースアプレットが表示できません 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> PowerJ内からデータベースアプレットを実行した場合は、アプレットのセキュリティ制限に 違反します。データベースアプレットを実行するには、アプレットをWebサーバから実行する必要があります。詳しくは 
            <A HREF = "../../../techinfo/pj/dr/tip3/">こちら</A>を参照ください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>セキュリティ違反を起こさない環境下ですが、InternetExplorer4.0、Netscape4.xで 
          データベースアプレットが表示できません </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> 実行時に動的にロードされるJDBCドライバなどは、Webアプリケーションターゲットで自動的にコピーされません。この場合、Webサーバのアプレットを配布したディレクトリの直下にJDBCドライバを手動でコピーする必要があります。詳しくはプログラマーズガイドの 
            P.132を参照ください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>SQLエディタでパラメータ付きのSQL文を作成してテストをおこなうと、文字化けしたダイアログが表示されますが？ 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> この現象はPowerJ 2.0 の不具合です。<BR>
            以下のようなダイアログが表示されています。<BR>
            <IMG SRC= ../../../techinfo/pj/img/qaskbind.gif><BR>
            <BR>
            選択ボックスの中は上から順に<BR>
          <UL>
            <LI>文字 
            <LI>整数, short, long 
            <LI>実数, double, float, numeric 
            <LI>日付 
            <LI>時間 
            <LI>ﾀｲﾑ ｽﾀﾝﾌﾟ 
            <LI>ﾊﾞｲﾅﾘ 
            <LI>ﾋﾞｯﾄ 
          </UL>
          です。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>クエリの"キーの更新"プロパティを"USE_UPDATE"から"USE_DELTE_AND_INSERT"に変更したらデータベースが更新できなくなりました。 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> "<B>USE_UPDATE</B>"と"<B>USE_DELETE_AND_INSETT</B>"では異なるSQL文を生成するためです。<BR>
            具体的な例を挙げながらご説明します。<BR>
            <BR>
            フォームウィザードを使用して以下のようなアプレットを作成してください。 
          <UL>
            <LI>テーブルは <B>employee</B> を選択します。 
            <LI>カラムは <B>emp_id, emp_fname, emp_lname</B> を選択します。 
            <LI>フォームが作成されたらクエリのプロパティを開き"<B>カラム</B>"ページの 
              <OL>
                <LI>"主キー"フィールドに emp_id 
                <LI>"カラムテーブル名"に employee=emp_id,emp_fname,emp_lname 
              </OL>
              を設定します。 
            <LI>生成されるSQL文を読みやすくするために"<B>更新</B>"ページの"<B>バインド更新</B>"のチェックをはずします。 
            <LI>フォームを少し拡大し、リストボックスを追加します。 
            <LI>クエリの "<B>queryUpdateingDatabase</B>" イベントに <BR>
              <CODE> lb_1.addItem(event.getSQL()); </CODE> <BR>
              を追加します。このコードによりデータベースが更新される時のSQL文がリストボックスに表示されます。 
          </UL>
          <BR>
          <BR>
          それでは、USE_UPDATE と USE_DELETE_AND_INSERT を使用したときの違いを調べてみましょう。 
          <UL>
            <LI><B>USE_UPDATEの場合</B><BR>
              キー値であるemp_idの105を107に変更してナビゲータの更新ボタンをクリックすると、リストボックスには以下のSQL文が表示されます。 
              <CODE> 
              <PRE>
	UPDATE employee SET emp_id = 107 WHERE emp_id = 105
    </PRE>
              </CODE> "Sybase SQL Anywhere 5.0"のツール isql を起動し、 <CODE> 
              <PRE>
	"select emp_id, emp_fname, emp_lname from employee" 
	</PRE>
              </CODE>を実行してデータベースが更新されているのを確認します。 <BR>
              <BR>
            <LI>USE_DELETE_AND_INSERTの場合<BR>
              それでは、"更新"ページの"キーの更新"を"USE_DELETE_AND_UPDATE"に変更して同じように実行します。<BR>
              先ほど107に変更したemp_idを105に戻してナビゲータの更新ボタンをクリックし、isqlで確認してみると、データは更新されていませんし、アプレットのナビゲータ更新ボタンもクリックできる状態、すなわち更新が完了していない状態をあらわしています。<BR>
              一方リストボックスを見ると以下のSQL文が表示されています。 <CODE> 
              <PRE>
    DELETE FROM employee WHERE emp_id = 107
    INSERT INTO employee ( emp_id, emp_fname, emp_lname ) VALUES ( 105, 'aaa     ', 'bbb     ' )
    </PRE>
              </CODE> このリストボックスに表示されているSQL文をisqlに入力し、実行してみると"<B>テーブル'employee'のカラム'dept_id'はNULL値を持つことはできません。</B>"とエラーが表示されます。 
          </UL>
          <BR>
          USE_DELETE_AND_INSERT文の場合、正しいSQL文が生成されるようにテーブルおよびカラムを選択しなければなりません。 
          <HR>

          <TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0><TD BGCOLOR="BLUE" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>デバッグ</B></FONT></TD></TABLE>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>MicrosoftのVMを使用するとJDK1.1のデバッグができませんが？ 
          </B><BR>
          <BR>
          <img src="../../../techinfo/pj/img/a.gif"> 
          <P> MicrosoftのVMは1.02のデバッグ機能しか提供していません。またSunのVMは1.1のデバッグ機能しか提供していません。 
          <HR>

          <TABLE CELLSPACING = 0 CELLPADDING = 0 BORDER = 0><TD BGCOLOR="BLUE" WIDTH="10"><IMG SRC="../../../../com_img/blank.gif" WIDTH="10"></TD><TD BGCOLOR="BLACK"><FONT COLOR="WHITE"><B>その他</B></FONT></TD></TABLE>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>プロジェクトを開いてない状態で、フォームの新規作成を行うとアプリケーションエラーが発生します。 
          </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> 最初にプロジェクトの新規作成を行ってください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>Javaスクリプトを作成するウィザードなどはありますか？ 
          </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> JavaスクリプトウィザードやJavaスクリプト記述に特化したエディタなどはありません。Webアプリケーションターゲットを作成し、自動生成されるindex.htmlにJavaスクリプトを記述してください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>構築をすると修正していないファイルまで再構築しているようですが？ 
          </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> プロジェクト内にある.JLTというファイルにターゲットが最後に構築された時間が記録されています。JLTファイルよりも新しいソースファイルがある場合には<FONT COLOR=RED>すべてのクラスファイル</FONT>が再構築されます。<BR>
            詳細はPowerJプログラマーズガイド第2章"JLTファイル"をご覧ください。<BR>
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>PowerJが生成した.javaファイルをテキストエディタで編集したのですが、構築したらもとに戻ってしまいました。 
          </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> PowerJは再構築時に.WXF, .FXCファイルからコードを生成して構築します。したがって.javaファイルなどをPowerJを使用せずに編集しても再構築の際にすべてもどってしまいます。PowerJを使用して編集してください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>1.1アプレットではうまくいくのですが、1.02アプレットではタブキーを押しても次のコンポーネントにフォーカスが移動しません。 
          </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> この現象はJDK1.02の不具合です。この機能はJDK1.1でしか使用できません。<BR>
            プログラマーズガイド第3章：コンポーネント順位エディタをご覧ください。 
          <P>
          <IMG SRC="../../../techinfo/pj/img/q.gif"> <B>Visual 
          Basicのエディタのように編集対象となる関数だけ表示するようにできますか？ </B><BR>
          <BR>
          <IMG SRC="../../../techinfo/pj/img/a.gif"> 
          <P> 可能です。メインメニューの[ツール|オプション]メニューからオプションを選択し、[エディタ]をクリックして、"イベントごとに新規エディタで編集"をチェックします。 

</TD></TABLE>
<HR>
</body>
</html>
